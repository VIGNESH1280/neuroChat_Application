import { npxImport } from "npx-import";
import { importFrom } from "./importFrom.js";
async function importLocalOrNpx(specifier, {
  confirm,
  importer = async (source) => await import(source),
  logger
} = {}) {
  const importedLocal = await importFrom(process.cwd(), specifier, importer);
  if (!(importedLocal instanceof Error)) {
    return {
      kind: "local",
      resolved: importedLocal
    };
  }
  const cancellation = await confirm?.(specifier);
  if (cancellation) {
    return {
      kind: "failure",
      local: importedLocal,
      npx: cancellation
    };
  }
  try {
    const importedNpx = await npxImport(specifier, logger);
    return {
      kind: "npx",
      resolved: importedNpx
    };
  } catch (error) {
    return {
      kind: "failure",
      local: importedLocal,
      npx: error
    };
  }
}
export {
  importLocalOrNpx
};
//# sourceMappingURL=importLocalOrNpx.js.map