import fs from "node:fs/promises";
import { produceTemplate } from "../producers/produceTemplate.js";
import { createSystemContextWithAuth } from "../system/createSystemContextWithAuth.js";
import { runCreation } from "./runCreation.js";
export async function runTemplate(template, settings) {
    const { directory = ".", offline } = settings;
    await fs.mkdir(directory, { recursive: true });
    const system = await createSystemContextWithAuth({
        directory,
        ...settings,
    });
    const creation = await produceTemplate(template, { ...system, ...settings });
    await runCreation(creation, { offline, system });
    return creation;
}
//# sourceMappingURL=runTemplate.js.map